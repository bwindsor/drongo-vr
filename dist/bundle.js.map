{"version":3,"sources":["webpack:///webpack/bootstrap 30066df20cc6d3a90b42","webpack:///external \"React\"","webpack:///external \"ReactDOM\"","webpack:///./src/index.jsx","webpack:///./src/app.jsx","webpack:///external \"AFRAME\"","webpack:///./node_modules/aframe-react/dist/index.js","webpack:///external \"gsap\""],"names":["ReactDOM","render","document","getElementById","App","React","Component","constructor","props","t","n","resetWaitPeriod","initialWaitPeriod","pMax","resetTimeout","timerInterval","cursorRef","numTrees","treeRadius","bounceHeight","treeHeightScale","drongoScale","accelRate","rotAccelRate","rMax","limits","p","r","state","getInitialState","drongoStates","Array","apply","map","x","visible","xyz","y","i","Math","random","d2p","d2r","startTime","Date","getTime","isPlaying","finalTime","stepAccel","d2x","rate","abs","stepDrongoState","componentDidMount","startGame","setState","TweenMax","to","repeat","yoyo","onUpdate","prevState","d","dd","stopGame","getElapsedTime","componentWillUnmount","clearTimeout","getCount","filter","s","length","handleClick","drongoIndex","newStates","setTimeout","resetGame","handleCursorRef","node","handleDrongoRef","addEventListener","components","raycaster","refreshObjects","elapsedTime","toFixed","cos","PI","sin","click"],"mappings":"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AE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB,aAAa,mBAAO,CAAC,CAAO;;AAE5B;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,YAAY;AACvB,WAAW,OAAO;AAClB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,mEAAmE,aAAa;AAChF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kEAAkE,uBAAuB;AACzF;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa,qBAAqB;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa,qBAAqB;AAClC;AACA;AACA,C;;;;;;AClTA,sB","file":"dist/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 30066df20cc6d3a90b42","module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 0\n// module chunks = 0","module.exports = ReactDOM;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactDOM\"\n// module id = 1\n// module chunks = 0","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./app\"\n\nReactDOM.render(\n    <App/>,\n    document.getElementById(\"main\")\n);\n\n\n// WEBPACK FOOTER //\n// ./src/index.jsx","import 'aframe';\nimport { Entity, Scene } from 'aframe-react';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { TweenMax } from 'gsap';\n\nexport default class App extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.t = 0;    // Tween variable\n    this.n = 25;  // Number of DrongOs\n    this.resetWaitPeriod = 5000; // Time to wait on completion before reset\n    this.initialWaitPeriod = 4000; // Time to wait before the game starts\n    this.pMax = 50 // Maximum distance\n    this.resetTimeout = null;\n    this.timerInterval = null;\n    this.cursorRef = null;\n    this.numTrees = 0;  // Number of trees in the circle\n    this.treeRadius = 20;  // Radius of tree circle\n    this.bounceHeight = 1.5; // Height above the ground for a DrongO to bounce\n    this.treeHeightScale = 2;\n    this.drongoScale = 0.06;\n    this.accelRate = 15\n    this.rotAccelRate = 60\n    \n    let rMax = 300 // Maximum rotation rate\n    this.limits = [\n      {\n        p: [-this.pMax, this.pMax],\n        r: [-rMax, rMax]\n      }, {\n        p: [this.bounceHeight, this.pMax],\n        r: [-rMax, rMax]\n      }, {\n        p: [-this.pMax, this.pMax],\n        r: [-rMax, rMax]\n      }\n    ]\n\n    this.state = this.getInitialState()\n  }\n\n  getInitialState() {\n    let drongoStates = Array.apply(null, Array(this.n)).map(x => {\n      return {\n        visible: true,\n        xyz: [0, 0, 0].map((y,i) => {\n          return {\n            p: i==1 ? Math.random()*this.pMax+5 : (Math.random()-0.5)*this.pMax,\n            d2p: 0,\n            r: Math.random()*360,\n            d2r: 0\n          }\n        })\n      }\n    })\n    return {\n      t: 0,\n      drongoStates: drongoStates,\n      startTime: new Date().getTime(),\n      isPlaying: false,\n      finalTime: null\n    }\n  }\n\n  stepAccel(x, d2x, rate, limits) {\n    d2x = d2x + (Math.random() - 0.5) * rate\n    if (x > limits[1]) {\n      d2x = -Math.abs(d2x)\n    } else if (x < limits[0]) {\n      d2x = Math.abs(d2x)\n    }\n    x = x + 0.5 * d2x * (0.05) ** 2  //s = ut + 0.5at^2\n    return { x, d2x }\n  }\n\n  stepDrongoState(state, limits) {\n    let { x: p, d2x: d2p } = this.stepAccel(state.p, state.d2p, this.accelRate, limits.p)\n    let { x: r, d2x: d2r } = this.stepAccel(state.r, state.d2r, this.rotAccelRate, limits.r)\n    return {\n      ...state,\n      p,\n      d2p,\n      r,\n      d2r\n    }\n  }\n\n  componentDidMount() {\n    this.startGame()\n  }\n\n  startGame() {\n    this.setState({ isPlaying: true })\n    TweenMax.to(this, 3, {\n      t: 1, repeat: -1, yoyo: true, onUpdate: () => this.setState(prevState => {\n        return {\n          t: this.t,\n          drongoStates: prevState.drongoStates.map(d => {\n            return {\n              ...d,\n              xyz: d.xyz.map((dd, i) => this.stepDrongoState(dd, this.limits[i]))\n            }\n          })\n        }\n      })\n    })\n  }\n  stopGame() {\n    this.setState({ finalTime: this.getElapsedTime(), isPlaying: false })\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.resetTimeout)\n  }\n\n  getCount() {\n    return this.state.drongoStates.filter(s => s.visible).length\n  }\n\n  handleClick(drongoIndex) {\n    if (!this.state.isPlaying || this.getElapsedTime() < 0) { return }\n    this.setState(prevState => {\n      let newStates = prevState.drongoStates\n      newStates[drongoIndex] = {\n        ...prevState.drongoStates[drongoIndex],\n        visible: false\n      }\n      return {\n        drongoStates: newStates\n      }\n    })\n    if (this.getCount() == 0) {\n      this.stopGame()\n      clearTimeout(this.resetTimeout);\n      this.resetTimeout = setTimeout(() => this.resetGame(), this.resetWaitPeriod);\n    }\n  }\n  \n  resetGame() {\n      this.setState(this.getInitialState())\n      this.startGame();\n  }\n\n  // TODO - REPLACE THESE BY PUTTING THEM IN INIT FUNCTION OF A DRONGO OBJECT\n  handleCursorRef(node) {\n    if (!node) {return}\n    this.cursorRef = node;\n  }\n\n  handleDrongoRef(node) {\n    if (!node) { return }\n    node.addEventListener('model-loaded', () => {\n      this.cursorRef.components.raycaster.refreshObjects();\n    });\n  }\n\n  getElapsedTime() {\n   return (new Date().getTime() - this.state.startTime - this.initialWaitPeriod) / 1000;\n  }\n\n  render() {\n    let elapsedTime = this.state.finalTime || this.getElapsedTime();\n    return (\n      <Scene>\n        <a-assets>\n          <a-asset-item id=\"drongo-obj\" src=\"assets/drongo.obj\"></a-asset-item>\n          <a-asset-item id=\"drongo-mtl\" src=\"assets/drongo.mtl\"></a-asset-item>\n          <a-asset-item id=\"tree-model\" src=\"assets/tree/model.dae\"></a-asset-item>\n          <img id=\"grass-texture\" src=\"assets/grass.jpg\"></img>\n          <img id=\"sky-texture\" src=\"assets/sky.jpg\"></img>\n        </a-assets>\n        <Entity position=\"0 0 0\">\n          <Entity primitive=\"a-camera\" look-controls-enabled wasd-controls-enabled>\n            <Entity cursor=\"fuse: true; fuseTimeout: 100\"\n              raycaster=\"objects: .drongo\"\n              position=\"0 0 -1\"\n              geometry=\"primitive: ring; radiusInner: 0.02; radiusOuter: 0.03\"\n              material=\"color: black; shader: flat\"\n              _ref={node => this.handleCursorRef(node)}\n              >\n            </Entity>\n            <Entity cursor=\"fuse: true; fuseTimeout: 3000\"\n              raycaster=\"objects: .reset-button\"\n              >\n            </Entity>\n            <Entity text={`value:${this.getCount()};align:center;color:black;font:exo2bold`} position=\"0 -0.1 -0.5\">\n            </Entity>\n            <Entity text={`value:${elapsedTime.toFixed(elapsedTime >= 0 ? 1 : 0)}s;align:center;color:black;font:exo2bold`} position=\"0 -0.2 -0.5\">\n            </Entity>\n          </Entity>\n        </Entity>\n        {this.numTrees && Array.apply(null, Array(this.numTrees)).map((d, i) => <Entity \n          collada-model=\"#tree-model\"\n          key={`tree-${i}`}\n          position={`${this.treeRadius*Math.cos(i/this.numTrees*2*Math.PI)} 0 ${this.treeRadius*Math.sin(i/this.numTrees*2*Math.PI) + 10}`}\n          scale={`1 ${this.treeHeightScale} 1`}\n          ></Entity>)}\n        <Entity primitive=\"a-plane\" position=\"0 0 0\" rotation=\"-90 0 0\" material=\"src: #grass-texture; repeat: 400 400\" height=\"2000\" width=\"2000\"></ Entity>\n        <Entity primitive=\"a-circle\" position=\"0 0.01 0\" rotation=\"-90 0 0\" color=\"red\" radius=\"1\"\n          className=\"reset-button\"\n          events={{\n            click: () => this.resetGame()\n          }}\n        ></ Entity>\n        <Entity primitive=\"a-sky\" material=\"src: #sky-texture\"></Entity>\n        {\n          this.state.drongoStates.map((s, i) => {\n            if (!s.visible) { return null }\n            let p = s.xyz\n            return <Entity\n              key={`model-${i}`}\n              className=\"drongo\"\n              _ref={node => this.handleDrongoRef(node)}\n              events={{\n                click: () => this.handleClick(i),\n              }}\n              position={`${p[0].p} ${p[1].p} ${p[2].p}`}\n              rotation={`${p[0].r} ${p[1].r} ${p[2].r}`}\n              obj-model=\"obj:#drongo-obj; mtl:#drongo-mtl\"\n              scale={`${this.drongoScale} ${this.drongoScale} ${this.drongoScale}`}\n              ></Entity>\n          })\n        }\n      </Scene>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.jsx","module.exports = AFRAME;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"AFRAME\"\n// module id = 4\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Scene = exports.Entity = exports.options = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar nonEntityPropNames = ['children', 'events', 'primitive'];\nvar filterNonEntityPropNames = function filterNonEntityPropNames(propName) {\n  return nonEntityPropNames.indexOf(propName) === -1;\n};\n\nvar options = {\n  // React needs this because React serializes.\n  // Preact does not because Preact runs `.setAttribute` on its own.\n  runSetAttributeOnUpdates: true\n};\nexports.options = options;\n\n/**\n * Call `.setAttribute()` on the `ref`, passing prop data directly to A-Frame.\n */\n\nfunction doSetAttribute(el, props, propName) {\n  if (propName === 'className') {\n    el.setAttribute('class', props.className);\n  } else if (props[propName] && props[propName].constructor === Function) {\n    return;\n  } else {\n    el.setAttribute(propName, props[propName]);\n  }\n}\n\n/**\n * Handle diffing of previous and current attributes.\n *\n * @param {Element} el\n * @param {Object|null} prevProps - Previous props map.\n * @param {Object} props - Current props map.\n */\nfunction updateAttributes(el, prevProps, props) {\n  var propName;\n\n  if (!props || prevProps === props) {\n    return;\n  }\n\n  // Set attributes.\n  for (propName in props) {\n    if (!filterNonEntityPropNames(propName)) {\n      continue;\n    }\n    doSetAttribute(el, props, propName);\n  }\n\n  // See if attributes were removed.\n  if (prevProps) {\n    for (propName in prevProps) {\n      if (!filterNonEntityPropNames(propName)) {\n        continue;\n      }\n      if (props[propName] === undefined) {\n        el.removeAttribute(propName);\n      }\n    }\n  }\n}\n\n/**\n * Render <a-entity>.\n * Tell React to use A-Frame's .setAttribute() on the DOM element for all prop initializations\n * and updates.\n */\n\nvar Entity = exports.Entity = function (_React$Component) {\n  _inherits(Entity, _React$Component);\n\n  function Entity() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Entity);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Entity.__proto__ || Object.getPrototypeOf(Entity)).call.apply(_ref, [this].concat(args))), _this), _this.initEntity = function (el) {\n      var props = _this.props;\n      var eventName;\n\n      if (!el) {\n        return;\n      }\n\n      // Store.\n      _this.el = el;\n\n      // Attach events.\n      if (props.events) {\n        for (eventName in props.events) {\n          addEventListeners(el, eventName, props.events[eventName]);\n        }\n      }\n\n      // Update entity.\n      updateAttributes(el, null, props);\n\n      // Allow ref.\n      if (props._ref) {\n        props._ref(el);\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n  /**\n   * In response to initial `ref` callback.\n   */\n\n\n  _createClass(Entity, [{\n    key: 'componentDidUpdate',\n\n\n    /**\n     * Handle updates after the initial render.\n     */\n    value: function componentDidUpdate(prevProps, prevState) {\n      var el = this.el;\n      var props = this.props;\n\n      // Update events.\n      updateEventListeners(el, prevProps.events, props.events);\n\n      // Update entity.\n      if (options.runSetAttributeOnUpdates) {\n        updateAttributes(el, prevProps, props);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var el = this.el;\n      var props = this.props;\n      var eventName;\n\n      if (props.events) {\n        // Remove events.\n        for (eventName in props.events) {\n          removeEventListeners(el, eventName, props.events[eventName]);\n        }\n      }\n    }\n\n    /**\n     * Render A-Frame DOM with ref: https://facebook.github.io/react/docs/refs-and-the-dom.html\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var props = this.props;\n      var elementName = this.isScene ? 'a-scene' : props.primitive || 'a-entity';\n      var propName;\n\n      // Let through props that are OK to render initially.\n      var reactProps = {};\n      for (propName in props) {\n        if (['className', 'id', 'mixin'].indexOf(propName) !== -1 || propName.indexOf('data-') === 0) {\n          reactProps[propName] = props[propName];\n        }\n      }\n\n      return _react2.default.createElement(elementName, _extends({ ref: this.initEntity }, reactProps), props.children);\n    }\n  }]);\n\n  return Entity;\n}(_react2.default.Component);\n\n/**\n * Render <a-scene>.\n * <a-scene> extends from <a-entity> in A-Frame so we reuse <Entity/>.\n */\n\n\nvar Scene = exports.Scene = function (_Entity) {\n  _inherits(Scene, _Entity);\n\n  function Scene(props) {\n    _classCallCheck(this, Scene);\n\n    var _this2 = _possibleConstructorReturn(this, (Scene.__proto__ || Object.getPrototypeOf(Scene)).call(this, props));\n\n    _this2.isScene = true;\n    return _this2;\n  }\n\n  return Scene;\n}(Entity);\n\n/**\n * Handle diffing of previous and current event maps.\n *\n * @param {Element} el\n * @param {Object} prevEvents - Previous event map.\n * @param {Object} events - Current event map.\n */\n\n\nfunction updateEventListeners(el, prevEvents, events) {\n  var eventName;\n\n  if (!prevEvents || !events || prevEvents === events) {\n    return;\n  }\n\n  for (eventName in events) {\n    // Didn't change.\n    if (prevEvents[eventName] === events[eventName]) {\n      continue;\n    }\n\n    // If changed, remove old previous event listeners.\n    if (prevEvents[eventName]) {\n      removeEventListeners(el, eventName, prevEvents[eventName]);\n    }\n\n    // Add new event listeners.\n    addEventListeners(el, eventName, events[eventName]);\n  }\n\n  // See if event handlers were removed.\n  for (eventName in prevEvents) {\n    if (!events[eventName]) {\n      removeEventListeners(el, eventName, prevEvents[eventName]);\n    }\n  }\n}\n\n/**\n * Register event handlers for an event name to ref.\n *\n * @param {Element} el - DOM element.\n * @param {string} eventName\n * @param {array|function} eventHandlers - Handler function or array of handler functions.\n */\nfunction addEventListeners(el, eventName, handlers) {\n  var handler;\n  var i;\n\n  if (!handlers) {\n    return;\n  }\n\n  // Convert to array.\n  if (handlers.constructor === Function) {\n    handlers = [handlers];\n  }\n\n  // Register.\n  for (i = 0; i < handlers.length; i++) {\n    el.addEventListener(eventName, handlers[i]);\n  }\n}\n\n/**\n * Unregister event handlers for an event name to ref.\n *\n * @param {Element} el - DOM element.\n * @param {string} eventName\n * @param {array|function} eventHandlers - Handler function or array of handler functions.\n */\nfunction removeEventListeners(el, eventName, handlers) {\n  var handler;\n  var i;\n\n  if (!handlers) {\n    return;\n  }\n\n  // Convert to array.\n  if (handlers.constructor === Function) {\n    handlers = [handlers];\n  }\n\n  // Unregister.\n  for (i = 0; i < handlers.length; i++) {\n    el.removeEventListener(eventName, handlers[i]);\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/aframe-react/dist/index.js\n// module id = 5\n// module chunks = 0","module.exports = gsap;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"gsap\"\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}